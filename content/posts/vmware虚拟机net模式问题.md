---
title: "VMware虚拟机 net 模式相关问题"
date: 2020-02-22T10:01:22+08:00
description: "记录我研究VMware虚拟机网络配置的过程，以及相关的问题和解决方法"
tags: 
    - VMware
    - 工具使用
    - 解决问题
categories:
    - Development
    - Record
    - 解决问题
draft: false
---

#### net模式

vm虚拟机共有三种与外界连接的方式：桥接、仅主机、net模式，net模式适合集群，也比较容易布置，于是我在虚拟机突然发生故障的情况下，展开了探讨。

<!-- more -->

1. 虚拟机出现故障，表现为连不上网络，ip不存在，就是在ens33下面找不到地址，且ifconfig命令不起作用。

2. ifconfig命令是net-tools工具里的一个命令，谁让我之前不知道呢，然后后悔当初没有装。

3. ubuntu即Debian系列与redhat是不一样的，具体机理不懂，只是ubuntu18.04系统的配置文件在`/etc/network/interfaces`里，我打开一看，惊了，里面只有

   ```linux
   auto lo
   iface lo inet loopback
   ```

4. 之后一段时间内，逐渐懂了一部分，原来是我修改虚拟网络编辑器时不小心把vnet0删除了，可能是这个原因导致了虚拟机里面没有地址。然后在虚拟网络编辑器里默认回到最初之后，将子网什么的修改正确之后，再打开ubuntu。在Ubuntu里刚才那个文件中添加

   ```
   auto ens33
   iface ens33 inet dhcp
   ```

   重新启动`/etc/init.d/networking restart`我哭了，出现错误，然后`ipup ens33`出现错误“无法打开”。

5. 此时我急中生智，将该文件权限改为744，然后再运行就好了。

6. sb的我不满于此，想要改变模式将虚拟机定格为静态ip，就是将虚拟机的DHCP服务关掉，就在虚拟网络编辑器中，不勾选就可以，然后打开Ubuntu，我哭了，又连不上了。

7. 至今没能解决6中的问题，我猜测跟虚拟机的网关有很大的关联，因为不太懂其中的原理，等我学了之后再说吧。

#### 反思

- 感觉自己真的好菜啊
- 搜索的时候关键词把握还差好多
- 还是不太敢于尝试，害怕弄糟糕，但是我已经备份了好多，但我还是害怕。。。。
- 先用着吧，不管了！